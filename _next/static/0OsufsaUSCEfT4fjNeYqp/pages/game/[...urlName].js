(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"0Uui":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/game/[...urlName]",function(){return a("S9mj")}])},S9mj:function(e,t,a){"use strict";a.r(t);var n=a("o0o1"),c=a.n(n),o=a("rePB"),i=a("q1tI"),r=a.n(i),s=a("a6RD"),l=a.n(s),d=a("iuhU"),u=a("GEyG"),m=a("jhR0"),p=a("F8O3"),b=a("L6pY"),g=a("tXcZ"),f=a("y5sO"),h=r.a.createElement,v=function(e){var t=e.path,a=e.title,n=e.description,c=e.image,o=e.createdAt,i=e.updatedAt;return h("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify({"@context":"https://schema.org","@type":"Game",name:a,headline:a,description:n,mainEntityOfPage:"https://www.education.com".concat(t),image:c,dateCreated:o,datePublished:o,dateModified:i||o,thumbnailUrl:c,author:{"@type":"Thing",name:"education.com"},publisher:{"@type":"Organization",name:"education.com",logo:{"@type":"ImageObject",url:"https://www.education.com/i/logo/EDU-Logo-new-286x60.png",width:286,height:60}}})}})},y=a("1KdK"),j=a("90Uu"),O=a("ZgjB"),w=a("nOHt"),N=a("KDD8"),P=a("Pb/G"),k=a.n(P),x=r.a.createElement,T=function(e){var t=e.href;if(!t)return null;var a=Object(w.useRouter)(),n="/guided-lesson/".concat(t,"/");return x("div",{className:k.a.wrapper},x("div",{className:k.a.action},x(u.m,{name:"guided-lessons",className:k.a.icon,onClick:function(){return Object(N.b)(a,n)}}),x(N.a,{href:n,className:k.a.link},"See in a Guided Lesson")))},C=a("ODXe"),E=a("i8oM"),S=a("jWxZ"),D=a("2Vvm"),G=a("6sDQ"),I=a("5Hjz"),A=a("llJ/"),L=a("260a"),_=a.n(L),U="openGameIFrame";var M=r.a.createElement,z=function(e){var t=e.defaultLessonPath,a=e.internalName,n=e.imgSrc,c=e.alt,o=e.id,s=e.title,l=e.subject,m=e.grade,p=e.allowAnonPlay,b=e.inGuidedLesson,g=e.contentType,f=e.canDownload,h=Object(i.useContext)(I.c),v=h.ready,y=h.memberId,j=h.isPremium,O=h.isUnder13,w=Object(i.useContext)(A.a).referrer,N=Object(i.useState)(t),P=N[0],k=N[1],x=Object(u.E)(),T=Object(i.useRef)(null),L=Object(u.A)(T),z=Object(i.useRef)(null),Y=Object(u.B)(z,!1),R=Object(C.a)(Y,2),W=R[0],B=R[1],F=Object(i.useState)(null),H=F[0],q=F[1],J=j||O||H||f||p;Object(i.useEffect)((function(){return Object(E.b)(U,K)}),[y]),Object(i.useEffect)((function(){v&&y&&!j&&G.a.fetchSinglePlayToken(w,y,o).then((function(e){q(e),function(){switch(l){case"":return k("singlePlay:".concat(o,",").concat(l,",").concat(m));case"typing":return k("singlePlay:".concat(o,",,"));default:b&&k("singlePlay:".concat(o,",").concat(l,",").concat(l,"-").concat(m))}}()}))}),[v,y]),Object(i.useEffect)((function(){window.contentItem={id:o,type:"game",section:"Game Detail",name:s,loggedIn:!!y,proMember:j,premium:j,openPaywall:!J,singlePlayToken:H}}),[y,j,J,H]);var K=function(){if(z.current)try{z.current.contentWindow.clickPlay(),B(!0)}catch(e){console.log(e)}else V()},X=function(e){var t=e.target.classList;t.contains("play_button")||t.contains("play")||t.contains("paused")||t.contains("paused_button")?B(!0):t.contains("pause")&&Z()},Z=function(){z.current.contentWindow.clickClose(),B(!1)};var Q,V=function(){y?Object(D.b)({contentType:g,contentId:o,cid:"",feature:"game"}):Object(S.b)("game",{signUp:{title:"Join Education.com for Free Access to Games",description:"You'll get access to free games and other resources by becoming a member of Education.com."}})};if(v)if(y&&J){var $="/games/play/?path=".concat(P,"&gameUrl=").concat(a,"&pageType=detail");Q=M(r.a.Fragment,null,M("div",{className:Object(d.a)(_.a.overlay,W&&_.a.maximized)}),M("div",{className:Object(d.a)("gameIframeHolder"),style:function(e){return e?(x.width<500?(t=x.width-20,a=x.height-15):x.width<750?(t=x.width-40,a=x.height-30):(t=x.width-80,a=x.height-60),{width:"".concat(Math.min(t,1.6*a),"px"),height:"".concat(Math.min(a,.625*t),"px")}):{width:"".concat(L.width,"px"),height:"".concat(.625*L.width,"px")};var t,a}(W)},M("div",{className:Object(d.a)(_.a.close,W&&_.a.maximized),onClick:Z},M(u.m,{name:"cancel-light"})),M("iframe",{seamless:!0,className:Object(d.a)(_.a.iframe,"game_holder"),"data-src":$,src:$,style:{transform:"translateY(0)",WebkitTransform:"translateY(0)",MozTransform:"translateY(0)",msTransform:"translateY(0)"},sandbox:"allow-same-origin allow-scripts",ref:z,onLoad:function(e){e.target.contentWindow.document.addEventListener("click",X)}})))}else Q=M("div",{className:"gamePlaceholder"},M(u.n,{src:n,alt:c,className:_.a.img}),M("div",{className:_.a.overlay}),M("div",{className:Object(d.a)(_.a.playButton),onClick:V},M(u.m,{name:"play",className:_.a.playIcon})));else Q=null;return M("div",{className:Object(d.a)(_.a.container,W&&_.a.maximized),ref:T},Q)},Y=a("T4Pn"),R=a.n(Y),W=r.a.createElement,B=function(e){var t=e.type,a=e.id,n=e.title,c=e.thumbnail,o=Object(i.useContext)(b.b),r=o.isCollected,s=o.collectContent,l={id:a,type:t,title:n,thumbnail:c},d=r(t,a),m=d?"Added to collection":"Add to collection";return W(u.b,{className:R.a.button,onClick:function(e){e.preventDefault(),s(t,a,l)},color:"tertiary",title:m},W(u.m,{name:d?"bookmark-filled":"bookmark",className:R.a.icon}),m)},F=r.a.createElement;function H(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?H(Object(a),!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var J=l()((function(){return Promise.all([a.e(1),a.e(8),a.e(7),a.e(11),a.e(0)]).then(a.bind(null,"anq9"))}),{ssr:!1,loadableGenerated:{webpack:function(){return["anq9"]},modules:["../../components/AssignmentsModal"]}}),K=l()((function(){return Promise.all([a.e(0),a.e(12)]).then(a.bind(null,"+7UW"))}),{ssr:!1,loadableGenerated:{webpack:function(){return["+7UW"]},modules:["../../components/RelatedLearningResources"]}}),X=l()((function(){return Promise.all([a.e(0),a.e(13)]).then(a.bind(null,"BxY8"))}),{ssr:!1,loadableGenerated:{webpack:function(){return["BxY8"]},modules:["../../components/ShareOptions"]}}),Z=function(e){var t,a,n=e.id,c=e.title,o=e.urlName,s=e.internalName,l=e.metaTitle,p=void 0===l?"":l,h=e.metaDescription,w=void 0===h?"":h,N=e.indexed,P=void 0!==N&&N,k=e.text,x=void 0===k?"":k,C=e.updatedAt,S=e.createdAt,D=e.standards,A=void 0===D?[]:D,L=e.grades,_=void 0===L?[]:L,M=e.subjects,Y=void 0===M?[]:M,W=e.mainImage,H=void 0===W?null:W,q=e.guidedLesson,Z=void 0===q?null:q,Q=e.course,V=void 0===Q?null:Q,$=e.allowAnonPlay,ee=void 0!==$&&$,te=e.type,ae=void 0===te?"game":te,ne=e.error,ce=void 0!==ne&&ne,oe=Object(i.useState)(!1),ie=oe[0],re=oe[1],se=Object(i.useState)(!1),le=se[0],de=se[1],ue=Object(i.useContext)(I.c),me=ue.memberId,pe=ue.isPremium,be={game:{path:"games",breadcrumb:"Games",title:"Game"},song:{path:"songs",breadcrumb:"Songs",title:"Song video"},story:{path:"stories",breadcrumb:"Stories",title:"Interactive story"}};ce&&ce.statusCode&&404===ce.statusCode&&(p=Object(m.b)()),H||(H="https://cdn.education.com/files/static/game-images/".concat(o,".jpg"));var ge=Z?"".concat(V.subject.toLowerCase(),",").concat(V.internalName,",").concat(Z.urlName,",").concat(s):"singlePlay:".concat(n,",").concat((null===(t=Y[0])||void 0===t?void 0:t.internalName)||"",",");return Object(i.useEffect)((function(){G.a.checkCanDownload(ae,n).then((function(e){de(!0===(null===e||void 0===e?void 0:e.allowed))}))}),[me,pe]),F(r.a.Fragment,null,F(g.a,{description:w,index:P,image:H,title:p},F("title",null,p),F("meta",{property:"og:type",content:"educationdotcom:game"}),F(v,{createdAt:S?S.replace(/\s+/,"T"):"",updatedAt:C?C.replace(/\s+/,"T"):null,path:"/game/".concat(o,"/"),image:H,title:c,description:w})),F("div",{className:Object(d.a)("page-width","typography-small",R.a.gameDetail)},ce?F(m.a,{err:ce}):F(b.a,null,F(f.a,{className:R.a.breadcrumbs,title:c,grades:_,path:be[ae].path,subjects:Y,contentType:be[ae].breadcrumb}),F("div",null,F("h3",{className:R.a.contentTitle},F(u.h,{name:ae,theme:"dark"})," ",F("span",{className:R.a.contentName},be[ae].title)),F("h1",null,c),!!me&&F(X,{name:c,imageSrc:H,contentType:"game",contentId:n,downloadHref:"/gc/game/".concat(o,"/"),canDownload:le})),F("div",{className:R.a.content},F("div",{className:R.a.contentInfo},F("div",{className:R.a.actionMain},F(u.b,{size:"normal",onClick:function(e){e.preventDefault(),Object(E.a)(U)},href:"#game-section",target:"_blank"},"Play"),F(u.b,{size:"normal",color:"secondary",className:"add-to-assignment",onClick:function(){return re(!0)}},"Assign this Game")),F("div",{className:R.a.actionSecondary},F(B,{type:ae,id:n,title:c,thumbnail:H})),F("div",{dangerouslySetInnerHTML:{__html:x}}),Z&&F(T,{href:null===Z||void 0===Z?void 0:Z.urlName}),F(j.a,{resource:{grades:_,subjects:Y,standards:A}})),F("div",{className:R.a.gameFrame},F(z,{defaultLessonPath:ge,internalName:s,imgSrc:H,alt:"Game",id:n,title:c,subject:V?null===V||void 0===V?void 0:V.subject.toLowerCase():(null===(a=Y[0])||void 0===a?void 0:a.urlName)||"",grade:_[0].urlName,allowAnonPlay:ee,inGuidedLesson:!!Z,contentType:ae,canDownload:le}))),Z&&void 0!==Z.contentCounts?F(O.a,Z):null,F(K,{type:"game",id:n}))),F(J,{itemsToAdd:[{type:"exercise",internalName:n}],onClose:function(){return re(!1)},isOpen:ie,section:"Game detail",contentId:n,contentType:ae}),F(y.a,null,F("a",{href:"/secure/exercises/exercise.php?nocache&id=".concat(n),target:"_blank"},"Edit Exercise")))};Z.getInitialProps=function(e){var t,a,n,o,i,r,s;return c.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.asPath,a=e.req,n=e.query,o=e.res,i=Object(p.a)(a),r=n.urlName,l.prev=3,l.next=6,c.a.awrap(i.getGameDetails(r));case 6:return(s=l.sent).footerProps={grades:(null===s||void 0===s?void 0:s.grades)?s.grades.map((function(e){return e.urlName})):[],subjects:(null===s||void 0===s?void 0:s.subjects)?s.subjects.map((function(e){return e.internalName})):[],contentType:null===s||void 0===s?void 0:s.type,pageType:"Content"},l.abrupt("return",q({},s,{pageKey:t}));case 11:return l.prev=11,l.t0=l.catch(3),404===l.t0.statusCode&&(o.statusCode=404),l.abrupt("return",{error:l.t0});case 15:case"end":return l.stop()}}),null,null,[[3,11]])};t.default=Z}},[["0Uui",3,1,2,4,5,6,9,10,0]]]);
//# sourceMappingURL=[...urlName].js.map
