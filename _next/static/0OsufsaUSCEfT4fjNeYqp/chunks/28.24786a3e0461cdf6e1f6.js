(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{P1o4:function(e,t,n){"use strict";n.r(t),n.d(t,"screens",(function(){return E}));var l=n("o0o1"),a=n.n(l),o=n("q1tI"),c=n.n(o),s=n("GEyG"),r=n("5Hjz"),i=n("wH4u"),u=n.n(i),m=n("jWxZ"),d=c.a.createElement;function p(e){var t=e.closeModal;return d("div",{className:u.a.container},d("div",{className:u.a.roly},d(s.n,{src:"https://cdn.education.com/files/static/collections/roly-collections.png",alt:"Roly"})),d("div",{className:u.a.text},d("h3",null,"Sign up to start collecting!"),d("p",null,"Bookmark this to easily find it later. Then send your curated collection to your children, or put together your own custom lesson plan."),d("div",{className:u.a.buttons},d("a",{onClick:function(e){e.preventDefault(),t(),Object(m.b)("collections",{signUp:{title:null}})}},d(s.b,{className:u.a.signup,size:"large",color:"teal"},"Sign up")),d("a",{onClick:function(e){e.preventDefault(),t(),Object(m.a)("collections")}},d(s.b,{className:u.a.login,size:"large",color:"tertiary"},"Log in")))))}var f=n("BzvE"),g=n.n(f),h=c.a.createElement;function v(e){var t=e.collections,n=e.selectCollection,l=e.showCreate,a=t?Object.values(t).map((function(e){var t=e.thumbnail&&e.thumbnail.length?h(s.n,{src:e.thumbnail,className:g.a.img,alt:e.title}):h("div",{className:g.a.img}),l=Object.keys(e.content).length,a="".concat(l," ").concat(1===l?"item":"items");return h("li",{className:g.a.item,key:e.id,onClick:function(){return n(e.id)}},t,h("div",null,h("strong",null,e.title),h("br",null),h("span",{className:g.a.count},a)))})):[];return h(c.a.Fragment,null,h("h2",null,"Choose collection"),h("ul",{className:g.a.list},h("li",{className:g.a.item,onClick:l},h(s.m,{name:"plus-light",className:g.a.img}),h("strong",null,"Create new collection")),a.length>0&&h(c.a.Fragment,null,h("li",{className:g.a.divider}),a)))}var b=n("dSxp"),C=n.n(b),N=n("iuhU"),w=(n("jgR8"),c.a.createElement);function y(e){var t=e.createCollection,n=e.showList,l=Object(o.useState)(""),a=l[0],r=l[1],i=Object(o.useState)(!1),u=i[0],m=i[1],d=Object(o.useState)(!1),p=d[0],f=d[1];Object(o.useEffect)((function(){m(!!a)}),[a]);return w(c.a.Fragment,null,w("h2",null,"Create new collection"),w("div",{className:"form"},w("div",{className:"input-row"},w("label",{className:Object(N.a)("floating",{focus:p},{"not-empty":u})},w("span",null,"Collection name"),w("input",{name:"title",type:"text",value:a,maxLength:30,onChange:function(e){r(e.target.value)},onFocus:function(){f(!0),m(!0)},onBlur:function(){f(!1),m((null===a||void 0===a?void 0:a.length)>0)}})))),w("div",{className:C.a.actions},w(s.b,{className:C.a.button,onClick:function(){return t(a)}},"Save"),w(s.b,{className:C.a.button,color:"secondary",onClick:n},"Cancel")))}var j=n("L6pY"),S=n("oNLS"),O=n.n(S),k=c.a.createElement,E={LIST:"list",CREATE:"create"};t.default=function(){var e=Object(o.useContext)(r.c).memberId,t=Object(o.useContext)(j.b),n=t.ready,l=t.collections,c=t.modalIsOpen,i=t.setModalIsOpen,u=t.createCollection,m=t.setCurrentCollectionId,d=t.trackFeatureWall,f=t.selectedContent,g=t.collectContent,h=t.addToCollection,b=Object(o.useState)(E.LIST),C=b[0],N=b[1],w=Object(o.useState)(null),S=w[0],T=w[1];if(!n)return null;var L=function(){return i(!1)};if(!e)return c&&d(),k(s.r,{open:c,onClose:L,size:"large"},k(p,{closeModal:L}));var x=function(e){T(null);try{m(e),null!=f&&1===f.length&&"collectSingle"===f[0].flag?g(f[0].type,f[0].id,f[0].model,e):h(f,e),L()}catch(t){console.error(t),T("There was an error selecting the collection")}},I=function(e){var t;return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return T(null),n.prev=1,n.next=4,a.a.awrap(u(e));case 4:t=n.sent,x(t.id),N(E.LIST),L(),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),console.error(n.t0),T("There was an error creating the collection");case 14:case"end":return n.stop()}}),null,null,[[1,10]])},z=function(){T(null),N(E.LIST)};return k(s.r,{open:c,onClose:L,size:"medium"},null!==S&&k("span",{className:O.a.error},S),function(){switch(C){case E.LIST:return k(v,{collections:l,selectCollection:x,showCreate:function(){return N(E.CREATE)}});case E.CREATE:return k(y,{createCollection:I,showList:z})}}())}}}]);
//# sourceMappingURL=28.24786a3e0461cdf6e1f6.js.map